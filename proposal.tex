\documentclass[letterpaper,12pt]{article}   %%% Can be report

%% set paper margins
\oddsidemargin=0.1in
\evensidemargin=0.1in
\textwidth=6.0in
\topmargin=-0.7in
\textheight=9.0in
\parindent=0.2in

\usepackage{amsmath,amssymb,bm}
\usepackage{graphicx}
\usepackage{rotating}
\usepackage{subfigure}
\graphicspath{%
  {figs/ipe/}
  {figs/dia/}
  {figs/matlab/}
  {figs/imag/}
} 
\usepackage[width=11cm,font=footnotesize,labelfont=bf, %
format=default,justification=centerlast]{caption} % Figure caption text customization 

\usepackage{pgfgantt}


\usepackage{hyperref}
\usepackage{soul}
\usepackage{setspace}
\usepackage{multirow}

\usepackage{siunitx}
\sisetup{unitsep=\cdot}

\title{ECE498:~Senior Capstone Project I\\\textbf{\underline{Project Proposal}}\\
\vspace{0.5in}
Project Title: ZigBee--Based Indoor Robot Localization and Mapping}
\vspace{1.5in}
\author{Kyle Hevrdejs and Jacob Knoll\\ Advisor: Dr.~Suruz Miah
}
%\date{February 6, 2003}  No need to write, Date will be automatically on the title page
\date{}  % Do not show date on the title page

%%%%%%%%%%%%%%%%% Set document line spacing %%%%%%%%%%%%%%%%%%%%%
\singlespacing
%\onehalfspacing
%\doublespacing
% all packages are in the following tex file.
%\input{paper-preamble.tex}
\begin{document}

%%% Make title page 
\begin{titlepage}
 \maketitle

\vspace*{4.0cm}
\begin{center}
\normalsize
Electrical and Computer Engineering Department\\
Caterpillar College of Engineering and Technology\\
\href{http://www.bradley.edu/}{Bradley University}\\

\vspace*{6.0cm}
\copyright~K.~Hevrdejs~and~J.~Knoll, Peoria, IL, USA, 2016\\

\end{center}
\thispagestyle{empty}

\end{titlepage} 
%%%%%%%%%%%%
%\thispagestyle{empty}
%\maketitle
\newpage
\renewcommand{\contentsname}{Table of Contents}
\tableofcontents
\newpage

\section{Introduction} %introduction (basically what was in the abstract before)

%applications
As the use of mobile robots becomes more common in the workplace, the need for accurate navigation rises. There are systems currently on the market that aim to meet this need. The major drawback however is the cost, modularity between mobile robots, and scalability to larger environments. In this project, we propose a cost--effective, modular, and easily scalable system utilizing off the shelf components that will allow a mobile robot to navigate and map its environment using an EKF-SLAM (Extended Kalman Filter - Simultaneous Localization and Mapping) algorithm. This system will allow navigation and mapping of an indoor environment with an acceptable level of accuracy. Applications of this system include mining vehicles, research and education, deliveries within office builings, cleaning robots, and warehouses.

\section{Background Study} %review of literature and prior work
%write more here (related works from subsystem level functional requirements?)

A large amount of research in the field of robotics is concentrated in the areas of localization and navigation (see~\cite{Martinelli2015},~\cite{DiGiampaolo2014},~\cite{Song2012}). Currently, much of the work being done focuses on the use of passive RFID tags~\cite{Martinelli2015}\cite{DiGiampaolo2014}. These methods are highly accurate but also expensive, both in hardware and computational efficiency. In~\cite{Martinelli2015} and~\cite{DiGiampaolo2014}, an algorithm is implemented using UHF (ultra high frequency) RFID in order to localize a mobile robot. In there, the phase information is adopted in order to calculate the angle between the passive tags and the mobile robot. Overall, the system worked well, however, the experiments performed did not fully demonstrate the localization algorithm, as the mobile robot was preprogrammed to follow a line marked on the floor of the environment. This approach also requires understanding of RF such as phase shift and RFID. Another method, seen in~\cite{Song2012}, shows a similar system but instead using wireless sensors as beacons. This setup is easier to implement on a large scale due to the minimal RF knowledge required and ease of implementation of beacons. The system presented in~\cite{Song2012} also uses the technique of partitioning the environment into a grid in order to more accurately calculate signal strength and bearing using a forward mounted directional antenna. This approach shows accuracy over after long operation times, an undesired characteristic of our project. Although not directly used for localization, the work done in~\cite{Hood2011} shows a possible alternative method for localization and mapping. By utilizing a rotating reflector, the authors were able to accurately estimate the angle-of-arrival of wireless signals from multiple wireless sensors. Furthermore, there are similar systems currently in use by the military that implement this technique (rotating radar antennas). There are also similar systems available for civilian use in areas such as commercial marine radar. Using this method, the authors were able to estimate the angle-of-arrival with an accuracy of $\pm \SI{3}{\degree}$.\\

In this project we aim to combine a rotating reflector system similar to the one presented in~\cite{Hood2011} and the widely used EKF-SLAM algorithm. The major challenges of this implementation will be obtaining a high enough accuracy in the range and bearing measurements. As more interference enters the environment, the system will become less accurate. This can, however, be reduced by the introduction of more beacons, at an increase in total cost.


\section{Standards and Patents}
The standards that are applicable to our project include the IEEE 802.15.4 protocol and the ZigBee protocol. The IEEE 802.15.4 protocol\footnote{IEEE Standard for Low-Rate Wireless Networks, 2015} outlines the physical layer (PHY) and the medium access control layer (MAC) specifications for low-data-rate wireless communication in personal area networks (LR-WPAN). The PHY layer contains the radio frequency transceiver and its low-level controller. The MAC layer provides access to the physical channel for transfer and defines an IEEE address for the device. Its goal is to maintain a simple and flexible protocol while also being easy to install, having reliable data transfer, being low cost, and having reasonable battery life. The ceiling mounted beacons will use XBee modules to communicate wirelessly with the mobile robot and uses the 802.15.4 protocol by default. The 802.15.4 protocol allows for a star network topology which is made up of one established personal area network (PAN) coordinator and other functional devices. In our system, the XBee mounted on the mobile robot will act as a coordinator and the ceiling mounted XBee’s will be the other functional devices. During our testing, we have established basic peer-to-peer communication with this protocol.\\

The other standard known as ZigBee\footnote{Zigbee Pro Stack User Guide, 2014}\footnote{XBee/XBee-Pro S2C ZigBee User Guide, 2016} is an open global standard for low-power, low-cost, low-data-rate, wireless networking based on the IEEE 802.15.4 standard. It maintains the specifications of the PHY layer and the MAC layer while defining the higher network layer and setting the framework for the application layer. The network layer takes care of network structure, routing, and security. The application layer has an application support sub-layer (APS) which defines various addressing objects and has other features for device specific applications. The ZigBee protocol allows for star, peer-to-peer, and mesh network topologies. We will still use the star network topology which is made up of a coordinator who creates a network with a channel and a unique PAN ID and end devices who will join this network with extra power saving features. The XBee mounted on the mobile robot will act as the coordinator and the ceiling mounted beacons will act as the end devices. The fully functional system will be implemented with a ZigBee network. It offers well defined packetized communication, power saving features which is important for the battery powered ceiling mounted beacons, and future applications which may require a higher level mesh network.\\

There are several patents that outline designs that are comparable to our project. The first patent~\cite{biehl} describes systems and methods for localization of a mobile device using beacons. This design uses a computer, a location signal receiver and beacons to determine the location of the mobile device. The beacons transmit the location signal and  the computer determines the location from the received location signal strength and a unique key based on the particular transmitting beacon. This patent is relevant to our work as it uses received signal strength from beacons and individual beacon IDs for localization of a mobile device in an indoor environment, but the patent is more general to what the mobile device is and uses a different localization algorithm. The second patent~\cite{lin} outlines positioning of an indoor mobile robot, and mapping of its environment and the beacons it detects. The mobile robot performs several positioning modes depending on the number on beacons it detects in its line of sight. This patent is more applicable to our project than the last patent. It utilizes a simultaneous localization and mapping technique for a mobile robot and beacons. However, the patent's positioning method is different than ours. The third patent~\cite{edlund} describes a localization method for a mobile robot with a system of beacons. It uses the signal strength and angle of arrival of the signal to localize and determine a coarse correction. This design is very similar to our approach by uses signal strength and angle, and similar localization algorithm, but we will be rotating a antennae reflector instead of the entire robot. A similar patent~\cite{younis} to the previous explains an indoor localization method for a mobile device using directional reflectors. The mobile device transmits a signal and the signal is delayed and returned by reflectors in the environment. The location of the mobile device is then determined from the range by the amount of delay and the angle of arrival at the reflector. This patent is relatively similar to our project as it describes an indoor localization technique using range and angle for a mobile device.

\section{Functional Requirements}

\subsection{System Architecture}
%system architecture
% For our project, we consider a scenario shown in~\autoref{fig:sysarch} where a mobile robot is deployed in a 3-dimensional environment with beacons distributed throughout. The mobile robot will also be given a list of waypoints located on the floor of the environment. Due to its widespread use in research applications, we have chosen the Pioneer 3-DX to implement our proposed project. 

% \begin{figure}
%     \centering
%     \includegraphics[scale=.4]{figs/ipe/3D_System_2.PNG}
%     \caption{Environment with mobile robot, ceiling mounted beacons, and waypoints}
%     \label{fig:sysarch}
% \end{figure}

\subsection{Block Diagrams}
%system level
% The system we propose for our project is fairly self--contained in the sense that it will handle its operation once it has started. This consideration will further promote modularity when the system is used with other mobile robots. A high level system block diagram can be seen in~\autoref{fig:highsys}. Many of the outputs shown are used for debugging purposes as well as being used for the proposed algorithm. The subsystem block diagram of the system shown in~\autoref{fig:highsys} can be seen in~\autoref{fig:subsys}. Due to the nature of the algorithm, we arranged our subsystem block diagram to resemble a conventional control system. This helps to better illustrate how data is being used within the system in order to localize the mobile robot and map the indoor environment.\\

% \begin{figure}
%     \centering
%     \includegraphics[scale=1]{figs/ipe/highLevelSysRequirements_robot}
%     \caption{System level block diagram detailing inputs and outputs to the system}
%     \label{fig:highsys}
% \end{figure}

% %subsystem level
% \begin{figure}
%     \centering
%     \includegraphics[scale=.9]{figs/ipe/subsystemBlockDiagramAlternate}
%     \caption{Subsystem level block diagram}
%     \label{fig:subsys}
% \end{figure}

% As shown in~\autoref{fig:subsys}, the outputs labelled \emph{estimated pose} and \emph{estimated positions of XBees} are also used internally. This feedback design allows the system to use prior data and predictions to estimate the mobile robot's position with more accuracy each iteration. At the top of~\autoref{fig:subsys}, there are three separate subsystems. The first is the controller, which will be further explained in~\autoref{sec:model}. The internal values output by this subsystem are the linear velocity and the steering angle. These values are then used as inputs to the preprocessor subsystem where they are converted to control inputs accepted by the Pioneer 3-DX. This conversion is detailed in~\autoref{sec:model}. Once these control inputs are applied and the mobile robot has completed its movement, the noisy pose is sent to the estimation block where it is used to estimate the mobile robot's true pose. In this subsystem, the mapping of the XBee beacons within the environment is also done. The estimated pose is then used by the controller in order to repeat the process. As seen in~\autoref{fig:subsys}, the estimated position of the XBees is stored internally for use in the next iteration.

\subsection{Specifications}

\section{Preliminary Work}

\subsection{Modelling} \label{sec:model}

\subsection{Simulation Results} \label{sec:simresults}

\subsection{Design} \label{sec:design}

\subsection{Experimental Activities} \label{sec:expresults}


\section{Parts List}

\section{Timeline and Milestones} \label{sec:timeline}

\begin{sidewaysfigure}
\begin{ganttchart}[hgrid,vgrid,x unit=.8cm, y unit title=.5cm,y unit chart=.8cm,milestone label font=\tiny,bar label font=\tiny, group label font=\small,bar/.append style={fill=green},bar incomplete/.append style={fill=red}]{1}{16}
\gantttitle{2016}{16}\\
\gantttitle{Sep}{4}
\gantttitle{Oct}{4}
\gantttitle{Nov}{4}
\gantttitle{Dec}{4}\\
\ganttgroup[progress = 100,group progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{Research}{3}{5} \\
\ganttbar[progress = 100,progress label text={$\displaystyle#1\%$},bar progress label font = \tiny,bar progress label anchor = east]{Research XBee functionality}{3}{5}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Research EKF-SLAM}{3}{5}\\
\ganttgroup[progress = 100,group progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{Simulation}{6}{12}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Simulate using MATLAB}{6}{8}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Simulate using V-REP}{9}{12}\\
\ganttgroup[progress = 100,group progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{XBee Communication}{6}{14}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Communication with X-CTU}{6}{7}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{AT Commands}{8}{8}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Remote AT Commands}{9}{10}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{XBee Library}{11}{12}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Get XBee RSSI data from multiple beacons}{13}{14}
\end{ganttchart}
\caption{Gantt chart for Fall 2016}
\label{gantt1}
\end{sidewaysfigure}

%change this to the correct format and make our schedule
%\begin{landscape}
\begin{sidewaysfigure}
%\begin{figure}
%\centering
\begin{ganttchart}[hgrid,vgrid,x unit=.8cm, y unit title=.5cm,y unit chart=.8cm,milestone label font=\tiny,bar label font=\tiny, group label font=\small,bar/.append style={fill=green},bar incomplete/.append style={fill=red}]{1}{18}
\gantttitle{2017}{18}\\
\gantttitle{Jan}{4}
\gantttitle{Feb}{4}
\gantttitle{Mar}{4}
\gantttitle{Apr}{4}
\gantttitle{May}{2}\\
\ganttgroup[progress = 100,group progress label font = \tiny,progress label text={$\displaystyle#1\%$}, group progress label anchor = east]{XBee Communication}{3}{4}\\
\ganttbar[progress = 100,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{Get XBee RSSI data from multiple beacons}{3}{4}\\
\ganttgroup[progress = 0,group progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{Angle Estimation}{3}{5} \\
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Build Reflector}{3}{3} \\
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Testing and Debugging}{4}{5} \\
%\ganttmilestone[progress = 0,milestone progress label font = \tiny,milestone progress label anchor = east]{Finalize Functionality}{5} \ganttnewline
\ganttgroup[progress = 0,group progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{Subsystem Preparation}{5}{8} \\
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Install ROS for Control of Pioneer 3-DX}{5}{6} \\
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Create ROS Node for Estimator Subsytem}{7}{8} \\
%\ganttmilestone[progress = 0,milestone progress label font = \tiny,milestone progress label anchor = east]{Finalize Functionality}{8} \ganttnewline
\ganttgroup[progress = 0,group progress label font = \tiny,progress label text={$\displaystyle#1\%$},group progress label anchor = east]{Integration and Test}{8}{16} \\
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Integrate subsystems}{8}{9} \\
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Test and Debug System}{10}{13} \\
%\ganttmilestone[progress = 0,milestone progress label font = \tiny,milestone progress label anchor = east]{Finalize Functionality}{13} \ganttnewline
\ganttbar[progress = 0,bar progress label font = \tiny,progress label text={$\displaystyle#1\%$},bar progress label anchor = east]{Project Completion Work}{14}{16}
\end{ganttchart}
\caption{Gantt Chart for Spring 2017}
\label{fig:gantt2}
%\end{figure}
\end{sidewaysfigure}
%\end{landscape}

The Gantt chart in~\autoref{fig:gantt2} shows our planned schedule to complete this project. Each month is split into 4 pieces represented by the dotted grid to approximate weekly schedule. The first milestone is to complete the necessary work for our angle estimation technique. This includes building an antenna reflector, then testing the reflector to obtain optimal results. The expected functionality is taking several RSSI samples while rotating the reflector a maximum of $\SI{180}{\degree}$ and using the RSSI sample data to determine an estimated angle. The next milestone is to have full functionality of the mobile robot controller using ROS running on a BeagleBone Black. Controlling the Pioneer 3-DX with MATLAB will simplify testing and control, but our end goal is to have the system self-contained on the mobile robot platform. The last milestone is to integrate the subsystems into one fully functioning system. This will require that each subsystem has met its specifications and is ready to implemented. We expect that testing the system will require debugging and tuning, thus we have set aside a large amount of time dedicated to testing. We have also set time for completing documentation and any other work necessary to complete our project.\\

%\section{Conclusion}
%\label{sec:conclusion}
%In this paper, we presented a neighboring optimal control law for a mobile robot to track a pre--defined trajectory with its range--limited sensory capabilities. The robot receives signal strength measurement of RF sensors placed on 2-D environment and estimates its states based on the noise sensory model. The robot’s states are partially observed simply because it estimates its position and orientation based on signal strength measurements coming from RF sensors. The proposed controller is the direct consequence of our previously published article but this paper shows how a mobile robot tracks a pre-defined trajectory when RF sensors are placed on 2-D positions and robot receives only signal strength measurements from a subset of RF sensors due its range--limited capabilities.


\bibliographystyle{IEEEtran}
\bibliography{bib/references.bib}

\end{document} 

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
